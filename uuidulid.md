# シーケンシャルつかう？UUIDつかう？

数字（通常は連続したID）とUUIDの両方がプライマリーキーとして広く使用されています。それぞれには利点と欠点があります。

シーケンシャルなID（Serial）

メリット

生成が簡単で、データベースが自動的に次のIDを生成します。
データのソートが容易です。IDの順番はデータの作成順と一致します。
スペース効率が良いです。整数はUUIDよりも格段に少ないストレージを消費します。
デメリット

分散システムでは、一意のIDを生成するのが難しい場合があります。
ユーザーが他のレコードのIDを推測する可能性があります。これはセキュリティ上の問題になる可能性があります。
UUID

メリット

一意性が高いです。UUIDは全世界で一意であると考えられています。
分散システムでも安全に使用できます。各システムは独立してUUIDを生成できます。
レコードのIDを推測するのが難しいため、セキュリティ上有利です。
デメリット

UUIDは通常、128ビットのスペースを消費します。これは整数型のIDよりも大きいです。
人間にとっては読みにくく、覚えにくいです。
ソートが困難です。UUIDはランダムに生成されるため、レコードの作成順を示しません。
どちらを選ぶべきかは、あなたの具体的な要件とトレードオフによります。




ULID（Universally Unique Lexicographically Sortable Identifier）は、UUIDとシーケンシャルIDの特性を組み合わせたものです。以下にその特徴とメリット、デメリットを示します。

ULID

特徴

128ビットの識別子で、タイムスタンプ部分とランダム部分から構成されます。
タイムスタンプ部分は48ビットで、ミリ秒単位での精度を持ちます。
ランダム部分は80ビットで、一意性を保証します。
メリット

タイムスタンプ部分があるため、生成された順序に従ってソートすることが可能です。
UUIDと同様に、全世界で一意であると考えられます。
分散システムでも安全に使用できます。各システムは独立してULIDを生成できます。
レコードのIDを推測するのが難しいため、セキュリティ上有利です。
デメリット

UUIDと同様に、128ビットのスペースを消費します。これは整数型のIDよりも大きいです。
人間にとっては読みにくく、覚えにくいです。
ULIDは、UUIDの一意性とシーケンシャルIDのソート可能性を兼ね備えています。しかし、その一方で、UUIDと同様に大きなストレージを消費するというデメリットもあります。どのIDを選ぶべきかは、あなたの具体的な要件とトレードオフによります。
