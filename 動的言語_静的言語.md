動的言語から静的言語に移ったときに面倒だと感じた、でもいいことあるよの話

# 書きやすい動的言語

プログラミングの最初の学習はRuby, PHP, Pytyonから始めよう。

こんな話をよく聞くと思う。

実際に筆者は最初はPHPから勉強して、エンジニアになってからPython,JavaScriptなど動的言語を学習した後に

Go,TypeScriptなど静的言語を学習した。

その過程で感じたそれぞれの特徴と、使い分けについて書いてみる。

## 動的言語と静的言語のコードの違い

まずは以下の例題を満たすコードをPythonとGoで書いてみる。

`３つの整数値を入力させ、3つの値のうち2番目に大きい値を表示するプログラムを作成せよ。`

動的言語と静的言語の主な違いは、型システムとその型がいつチェックされるかにあります。動的言語では、型チェックは実行時に行われ、変数の型は実行中に変更できます。一方、静的言語では、型チェックはコンパイル時に行われ、変数の型は一度定義すると変更できません。

以下に、与えられた問題を解決するJavaScript（動的言語）とGo（静的言語）のコードを示します。

JavaScriptのコード:

```javascript
function secondLargest() {
    let nums = [];
    for(let i = 0; i < 3; i++) {
        nums.push(prompt("Enter a number: "));
    }
    nums.sort();
    console.log("The second largest number is:", nums[1]);
}

secondLargest();
```

ではGoで実装してみるとどうなるか。

```go
package main

import (
    "fmt"
    "sort"
    "strconv"
    "bufio"
    "os"
)

func main() {
    scanner := bufio.NewScanner(os.Stdin)
    nums := make([]int, 3)
    for i := 0; i < 3; i++ {
        fmt.Print("Enter a number: ")
        scanner.Scan()
        nums[i], _ = strconv.Atoi(scanner.Text())
    }
    sort.Ints(nums)
    fmt.Println("The second largest number is:", nums[1])
}
```

JavaScriptでは、nums配列は任意の型の要素を持つことができます。

prompt関数は文字列を返すため、nums配列は文字列の要素を持ちます。

しかし一方で、sort関数は数値としてこれらの要素を扱います。


JSと比較してGoでは、nums配列は明示的にint型の要素を持つと宣言されています。

そのためstrconv.Atoi関数はコマンドから与えられた文字列を整数に変換し、その結果をnums配列に格納します。

このように、Goでは型が明示的でありコンパイル時に型チェックが行われます。


以上から動的言語と静的言語の主な違いは型システムとその型がいつチェックされるかにあります。

これにより、静的言語は型エラーを早期に検出できる一方、動的言語はより柔軟なコーディングスタイルを可能にします。

## 使い分け

動的言語と静的言語の使い分けについて考えてみると個人的には以下。

動的言語は、プロトタイピングや小規模なプロジェクトに適しています。動的言語は型の柔軟性が高いため、コードの記述が簡単であり、開発速度が速いという特徴があります。

一方、静的言語は、大規模なプロジェクトやチームでの開発に適しています。静的言語は型エラーを早期に検出できるため、コードの品質を向上させることができます。

ちなみに静的言語はIDEの補完機能やリファクタリング機能が強力であるため、開発体験と開発効率を向上させることができていると思っている。

したがって、プロジェクトの規模や目的に応じて、動的言語と静的言語を使い分けることが重要です。
